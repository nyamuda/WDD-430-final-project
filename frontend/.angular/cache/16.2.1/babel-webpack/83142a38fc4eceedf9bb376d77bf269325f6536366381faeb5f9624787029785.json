{"ast":null,"code":"\"use strict\";\n\nvar _class;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GalleryDeleteComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst core_1 = require(\"@angular/core\");\nconst confirmation_modal_component_1 = require(\"src/app/confirmation-modal/confirmation-modal.component\");\nconst ng_gallery_1 = require(\"ng-gallery\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"../gallery.service\"));\nconst i2 = tslib_1.__importStar(require(\"mdb-angular-ui-kit/modal\"));\nconst i3 = tslib_1.__importStar(require(\"src/app/users/users.service\"));\nconst i4 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i5 = tslib_1.__importStar(require(\"ngx-pagination\"));\nconst i6 = tslib_1.__importStar(require(\"../gallery-loader/gallery-loader.component\"));\nfunction GalleryDeleteComponent_div_0_div_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function GalleryDeleteComponent_div_0_div_5_div_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const item_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.openModal(item_r4.data.type.toString(), item_r4.data.src.toString()));\n    });\n    i0.ɵɵelement(2, \"i\", 14);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction GalleryDeleteComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 10);\n    i0.ɵɵtemplate(2, GalleryDeleteComponent_div_0_div_5_div_2_Template, 3, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", item_r4.data.src, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isAdmin());\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    itemsPerPage: a0,\n    currentPage: a1,\n    totalItems: a2\n  };\n};\nfunction GalleryDeleteComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2);\n    i0.ɵɵelement(2, \"p\", 3);\n    i0.ɵɵelementStart(3, \"pagination-controls\", 4);\n    i0.ɵɵlistener(\"pageChange\", function GalleryDeleteComponent_div_0_Template_pagination_controls_pageChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.pageChanged($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 5);\n    i0.ɵɵtemplate(5, GalleryDeleteComponent_div_0_div_5_Template, 3, 2, \"div\", 6);\n    i0.ɵɵpipe(6, \"paginate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 7)(8, \"pagination-controls\", 8);\n    i0.ɵɵlistener(\"pageChange\", function GalleryDeleteComponent_div_0_Template_pagination_controls_pageChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.pageChanged($event));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r0.metaData().printPaginationInfo(\"Images\"), i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"maxSize\", ctx_r0.maxSize);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(6, 4, ctx_r0.items(), i0.ɵɵpureFunction3(7, _c0, ctx_r0.metaData().pageSize, ctx_r0.metaData().currentPage, ctx_r0.metaData().totalItems)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"maxSize\", ctx_r0.maxSize);\n  }\n}\nfunction GalleryDeleteComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-gallery-loader\");\n  }\n}\nclass GalleryDeleteComponent {\n  constructor(galleryService, modalService, userService) {\n    this.galleryService = galleryService;\n    this.modalService = modalService;\n    this.userService = userService;\n    this.maxSize = 10;\n    //Gallery meta data for pagination\n    this.metaData = (0, core_1.computed)(() => this.galleryService.metaDataSignal());\n    //information about the current logged in user\n    this.currentUser = (0, core_1.computed)(() => this.userService.user());\n    //Generate gallery items\n    this.items = (0, core_1.computed)(() => {\n      let generatedItems = [];\n      this.galleryService.galleryListSignal().forEach(item => {\n        let imageItem = new ng_gallery_1.ImageItem({\n          /*\"ImageItem\" does not have an ID field, so instead,\r\n          we put the ID of the image in the \"type\" field.\r\n          We want the ID of the image to be able\r\n          to delete the image from the gallery.\r\n          */\n          type: item['_id'],\n          src: item.url,\n          thumb: item.url\n        });\n        generatedItems.push(imageItem);\n      });\n      return generatedItems;\n    });\n  }\n  //delete gallery item\n  deleteImage(id, imageUrl) {\n    this.galleryService.deleteGalleryItem(id, imageUrl);\n  }\n  //Open the modal before deleting an image\n  //its centered\n  openModal(id, imageUrl) {\n    this.modalRef = this.modalService.open(confirmation_modal_component_1.ConfirmationModalComponent, {\n      modalClass: 'modal-dialog-centered',\n      data: {\n        title: 'Please confirm deletion',\n        message: 'Do you wish to proceed with deleting this image?',\n        action: 'Delete'\n      }\n    });\n    //if the deletion has been confirmed\n    this.modalRef.onClose.subscribe(message => {\n      if (message === 'confirmed') {\n        this.deleteImage(id, imageUrl);\n      }\n    });\n  }\n  //Change gallery pagination number\n  pageChanged(newPage) {\n    //change the page number\n    this.galleryService.pageNumberSignal.set(newPage);\n    this.galleryService.getGalleryItems();\n    //scroll up to the top of the gallery list\n    const element = document.getElementById('gallery');\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }\n  }\n  //only admins have the authority to edit or gallery items\n  isAdmin() {\n    return this.currentUser().isAdmin;\n  }\n}\n_class = GalleryDeleteComponent;\n_class.ɵfac = function GalleryDeleteComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.GalleryService), i0.ɵɵdirectiveInject(i2.MdbModalService), i0.ɵɵdirectiveInject(i3.UsersService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-gallery-delete\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [\"placeholderImages\", \"\"], [1, \"d-flex\", \"flex-column\", \"align-items-start\", \"flex-md-row\", \"align-items-md-center\", \"justify-content-md-between\", \"flex-wrap\"], [3, \"innerHTML\"], [1, \"pagination-controls\", \"top-pagination-controls\", 3, \"maxSize\", \"pageChange\"], [1, \"d-flex\", \"justify-content-center\", \"flex-wrap\"], [\"class\", \"hover-overlay bg-image\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-start\", \"mt-3\"], [1, \"pagination-controls\", \"bottom-pagination-controls\", 3, \"maxSize\", \"pageChange\"], [1, \"hover-overlay\", \"bg-image\"], [1, \"img-fluid\", \"mx-1\", \"my-1\", \"rounded\", \"shadow-2-strong\", 3, \"src\"], [\"class\", \"mask d-flex justify-content-center align-items-center h-100\", 4, \"ngIf\"], [1, \"mask\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"btn\", \"text-light\", \"delete-btn\", 3, \"click\"], [1, \"fas\", \"fa-trash\", \"fa-3x\"]],\n  template: function GalleryDeleteComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, GalleryDeleteComponent_div_0_Template, 9, 11, \"div\", 0);\n      i0.ɵɵtemplate(1, GalleryDeleteComponent_ng_template_1_Template, 1, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.items().length > 0)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.PaginationControlsComponent, i6.GalleryLoaderComponent, i5.PaginatePipe],\n  styles: [\"@import url(https://fonts.googleapis.com/css2?family=Oxygen&display=swap);@import url(https://fonts.googleapis.com/css2?family=Merriweather+Sans&display=swap);@import url(https://fonts.googleapis.com/css2?family=Rammetto+One&display=swap);.pagination-controls[_ngcontent-%COMP%]     .current {\\n  background: #f24711;\\n  border-radius: 50%;\\n  text-align: center;\\n  width: 2rem;\\n  height: 2rem;\\n}\\n\\n.mask[_ngcontent-%COMP%] {\\n  background-color: hsla(0, 0%, 0%, 0.4);\\n}\\n\\n.img-fluid[_ngcontent-%COMP%] {\\n  width: auto;\\n  height: 16rem;\\n  object-fit: cover;\\n}\\n\\n.delete-btn[_ngcontent-%COMP%] {\\n  transition: all 0.3s ease-out !important;\\n}\\n\\n.delete-btn[_ngcontent-%COMP%]:hover {\\n  color: #e6871c !important;\\n}\\n\\n.bottom-pagination-controls[_ngcontent-%COMP%] {\\n  margin-left: -2.5rem;\\n}\\n\\n@media (max-width: 767px) {\\n  .top-pagination-controls[_ngcontent-%COMP%] {\\n    margin-left: -2.5rem;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ2FsbGVyeS9nYWxsZXJ5LWRlbGV0ZS9nYWxsZXJ5LWRlbGV0ZS5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9zYXNzL192YXJpYWJsZXMuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL1BpZXJjZSUyMFQuJTIwTnlhbXVkYS9Eb2N1bWVudHMvQllVSSUyMENvdXJzZXMvc3ByaW5nMjAyMy9Bbmd1bGFyL2ZpbmFsLXByb2plY3QvZnJvbnRlbmQvc3JjL2FwcC9nYWxsZXJ5L2dhbGxlcnktZGVsZXRlL2dhbGxlcnktZGVsZXRlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsbUJDRWM7RUREZCxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUVFRjs7QUZBQTtFQUNFLHNDQUFBO0FFR0Y7O0FGQUE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGlCQUFBO0FFR0Y7O0FGREE7RUFDRSx3Q0FBQTtBRUlGOztBRkZBO0VBQ0UseUJBQUE7QUVLRjs7QUZIQTtFQUNFLG9CQUFBO0FFTUY7O0FGSkE7RUFDRTtJQUNFLG9CQUFBO0VFT0Y7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCIuLi8uLi8uLi9zYXNzL3ZhcmlhYmxlc1wiO1xyXG5cclxuLnBhZ2luYXRpb24tY29udHJvbHMgOjpuZy1kZWVwIC5jdXJyZW50IHtcclxuICBiYWNrZ3JvdW5kOiAkcHJpbWFyeS1jb2xvcjtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHdpZHRoOiAycmVtO1xyXG4gIGhlaWdodDogMnJlbTtcclxufVxyXG4ubWFzayB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogaHNsYSgwLCAwJSwgMCUsIDAuNCk7XHJcbn1cclxuXHJcbi5pbWctZmx1aWQge1xyXG4gIHdpZHRoOiBhdXRvO1xyXG4gIGhlaWdodDogMTZyZW07XHJcbiAgb2JqZWN0LWZpdDogY292ZXI7XHJcbn1cclxuLmRlbGV0ZS1idG4ge1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2Utb3V0ICFpbXBvcnRhbnQ7XHJcbn1cclxuLmRlbGV0ZS1idG46aG92ZXIge1xyXG4gIGNvbG9yOiAkc2Vjb25kYXJ5LWNvbG9yICFpbXBvcnRhbnQ7XHJcbn1cclxuLmJvdHRvbS1wYWdpbmF0aW9uLWNvbnRyb2xzIHtcclxuICBtYXJnaW4tbGVmdDogLTIuNXJlbTtcclxufVxyXG5AbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIHtcclxuICAudG9wLXBhZ2luYXRpb24tY29udHJvbHMge1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0yLjVyZW07XHJcbiAgfVxyXG59XHJcbiIsIkBpbXBvcnQgdXJsKFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1PeHlnZW4mZGlzcGxheT1zd2FwXCIpO1xyXG5AaW1wb3J0IHVybChcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9TWVycml3ZWF0aGVyK1NhbnMmZGlzcGxheT1zd2FwXCIpO1xyXG5AaW1wb3J0IHVybChcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9UmFtbWV0dG8rT25lJmRpc3BsYXk9c3dhcFwiKTtcclxuJGJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XHJcbiRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzc4Nzg3ODtcclxuJHByaW1hcnktY29sb3I6ICNmMjQ3MTE7XHJcbiRzZWNvbmRhcnktY29sb3I6ICNlNjg3MWM7XHJcbiR0ZXJ0aWFyeS1jb2xvcjogI2YyYmExMTtcclxuJGZvdXJ0aC1jb2xvcjogI2ZjYWExMjtcclxuJGZpZnRoLWNvbG9yOiAjZmM2ZDEyO1xyXG4kbGlnaHQtYmFja2dyb3VuZDogI2YzZjJmMjtcclxuJHdoaXRlLWNvbG9yOiAjZmZmZmZmO1xyXG4kaGVhZGluZy1jb2xvcjogIzExMTExMTtcclxuJHBhcmEtY29sb3I6ICM1YzVjNWM7XHJcbiRibGFjay1jb2xvcjogIzAwMDAwMDtcclxuJGhlYWRpbmctY29sb3ItMjogIzMyMzIzMjtcclxuJG5vcm1hbC1jb2xvcjogIzFjMWMxYztcclxuJGJhY2tncm91bmQ6ICNmNWY1ZjU7XHJcbiRiYWNrZ3JvdW5kLTI6ICNmMmYyZjI7XHJcbiRib3JkZXI6ICNlYmViZWI7XHJcbiRib3JkZXItMTogI2UxZTFlMTtcclxuXHJcbiRtYWluLWZvbnQ6IFwiT3h5Z2VuXCIsIHNhbnMtc2VyaWY7XHJcbiRoZWFkaW5nLWZvbnQ6IFwiTWVycml3ZWF0aGVyIFNhbnNcIiwgc2Fucy1zZXJpZjtcclxuXHJcbiRmbS11bm5hOiBcIlVubmFcIiwgc2VyaWY7XHJcbiRmbS1udW5pdG86IFwiTnVuaXRvIFNhbnNcIiwgc2Fucy1zZXJpZjtcclxuJGJyYW5kLWZvbnQ6IFwiUmFtbWV0dG8gT25lXCIsIGN1cnNpdmU7XHJcbiIsIkBpbXBvcnQgdXJsKFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1PeHlnZW4mZGlzcGxheT1zd2FwXCIpO1xuQGltcG9ydCB1cmwoXCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PU1lcnJpd2VhdGhlcitTYW5zJmRpc3BsYXk9c3dhcFwiKTtcbkBpbXBvcnQgdXJsKFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1SYW1tZXR0bytPbmUmZGlzcGxheT1zd2FwXCIpO1xuLnBhZ2luYXRpb24tY29udHJvbHMgOjpuZy1kZWVwIC5jdXJyZW50IHtcbiAgYmFja2dyb3VuZDogI2YyNDcxMTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiAycmVtO1xuICBoZWlnaHQ6IDJyZW07XG59XG5cbi5tYXNrIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogaHNsYSgwLCAwJSwgMCUsIDAuNCk7XG59XG5cbi5pbWctZmx1aWQge1xuICB3aWR0aDogYXV0bztcbiAgaGVpZ2h0OiAxNnJlbTtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59XG5cbi5kZWxldGUtYnRuIHtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZS1vdXQgIWltcG9ydGFudDtcbn1cblxuLmRlbGV0ZS1idG46aG92ZXIge1xuICBjb2xvcjogI2U2ODcxYyAhaW1wb3J0YW50O1xufVxuXG4uYm90dG9tLXBhZ2luYXRpb24tY29udHJvbHMge1xuICBtYXJnaW4tbGVmdDogLTIuNXJlbTtcbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDc2N3B4KSB7XG4gIC50b3AtcGFnaW5hdGlvbi1jb250cm9scyB7XG4gICAgbWFyZ2luLWxlZnQ6IC0yLjVyZW07XG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexports.GalleryDeleteComponent = GalleryDeleteComponent;","map":{"version":3,"names":["core_1","require","confirmation_modal_component_1","ng_gallery_1","i0","ɵɵelementStart","ɵɵlistener","GalleryDeleteComponent_div_0_div_5_div_2_Template_button_click_1_listener","ɵɵrestoreView","_r8","item_r4","ɵɵnextContext","$implicit","ctx_r6","ɵɵresetView","openModal","data","type","toString","src","ɵɵelement","ɵɵelementEnd","ɵɵtemplate","GalleryDeleteComponent_div_0_div_5_div_2_Template","ɵɵadvance","ɵɵproperty","ɵɵsanitizeUrl","ctx_r3","isAdmin","GalleryDeleteComponent_div_0_Template_pagination_controls_pageChange_3_listener","$event","_r10","ctx_r9","pageChanged","GalleryDeleteComponent_div_0_div_5_Template","GalleryDeleteComponent_div_0_Template_pagination_controls_pageChange_8_listener","ctx_r11","ctx_r0","metaData","printPaginationInfo","ɵɵsanitizeHtml","maxSize","ɵɵpipeBind2","items","ɵɵpureFunction3","_c0","pageSize","currentPage","totalItems","GalleryDeleteComponent","constructor","galleryService","modalService","userService","computed","metaDataSignal","currentUser","user","generatedItems","galleryListSignal","forEach","item","imageItem","ImageItem","url","thumb","push","deleteImage","id","imageUrl","deleteGalleryItem","modalRef","open","ConfirmationModalComponent","modalClass","title","message","action","onClose","subscribe","newPage","pageNumberSignal","set","getGalleryItems","element","document","getElementById","scrollIntoView","behavior","block","ɵɵdirectiveInject","i1","GalleryService","i2","MdbModalService","i3","UsersService","selectors","decls","vars","consts","template","GalleryDeleteComponent_Template","rf","ctx","GalleryDeleteComponent_div_0_Template","GalleryDeleteComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","length","_r1","exports"],"sources":["C:\\Users\\Pierce T. Nyamuda\\Documents\\BYUI Courses\\spring2023\\Angular\\final-project\\frontend\\src\\app\\gallery\\gallery-delete\\gallery-delete.component.ts","C:\\Users\\Pierce T. Nyamuda\\Documents\\BYUI Courses\\spring2023\\Angular\\final-project\\frontend\\src\\app\\gallery\\gallery-delete\\gallery-delete.component.html"],"sourcesContent":["import { Component, Signal, computed, Input } from '@angular/core';\nimport { GalleryService } from '../gallery.service';\nimport { SchoolGalleryItem } from '../schoolGalleryItem.model';\nimport { MdbModalService, MdbModalRef } from 'mdb-angular-ui-kit/modal';\nimport { ConfirmationModalComponent } from 'src/app/confirmation-modal/confirmation-modal.component';\nimport { MetaData } from '../../app.meta';\nimport { UsersService } from 'src/app/users/users.service';\nimport { User } from 'src/app/users/user.model';\nimport { GalleryItem, Gallery, ImageItem, VideoItem } from 'ng-gallery';\n\n@Component({\n  selector: 'app-gallery-delete',\n  templateUrl: './gallery-delete.component.html',\n  styleUrls: ['./gallery-delete.component.scss'],\n})\nexport class GalleryDeleteComponent {\n  //the modal\n  modalRef: MdbModalRef<ConfirmationModalComponent>;\n  maxSize = 10;\n\n  constructor(\n    private galleryService: GalleryService,\n    private modalService: MdbModalService,\n    private userService: UsersService\n  ) {}\n\n  //delete gallery item\n  deleteImage(id: string, imageUrl: any) {\n    this.galleryService.deleteGalleryItem(id, imageUrl);\n  }\n\n  //Open the modal before deleting an image\n  //its centered\n  openModal(id: string, imageUrl: string) {\n    this.modalRef = this.modalService.open(ConfirmationModalComponent, {\n      modalClass: 'modal-dialog-centered',\n      data: {\n        title: 'Please confirm deletion',\n        message: 'Do you wish to proceed with deleting this image?',\n        action: 'Delete',\n      },\n    });\n\n    //if the deletion has been confirmed\n    this.modalRef.onClose.subscribe((message) => {\n      if (message === 'confirmed') {\n        this.deleteImage(id, imageUrl);\n      }\n    });\n  }\n  //Gallery meta data for pagination\n  metaData: Signal<MetaData> = computed(() =>\n    this.galleryService.metaDataSignal()\n  );\n\n  //Change gallery pagination number\n  pageChanged(newPage) {\n    //change the page number\n    this.galleryService.pageNumberSignal.set(newPage);\n    this.galleryService.getGalleryItems();\n    //scroll up to the top of the gallery list\n    const element = document.getElementById('gallery');\n    if (element) {\n      element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  }\n\n  //information about the current logged in user\n  currentUser: Signal<User> = computed(() => this.userService.user());\n\n  //only admins have the authority to edit or gallery items\n  isAdmin(): boolean {\n    return this.currentUser().isAdmin;\n  }\n\n  //Generate gallery items\n  items: Signal<GalleryItem[]> = computed(() => {\n    let generatedItems: GalleryItem[] = [];\n\n    this.galleryService\n      .galleryListSignal()\n      .forEach((item: SchoolGalleryItem) => {\n        let imageItem = new ImageItem({\n          /*\"ImageItem\" does not have an ID field, so instead, \n          we put the ID of the image in the \"type\" field. \n          We want the ID of the image to be able \n          to delete the image from the gallery.  \n          */\n          type: item['_id'],\n          src: item.url,\n          thumb: item.url,\n        });\n        generatedItems.push(imageItem);\n      });\n\n    return generatedItems;\n  });\n}\n","<!-- Delete Images Tab End  -->\n<div *ngIf=\"items().length > 0; else placeholderImages\">\n  <!-- Pagination information Start -->\n  <div\n    class=\"d-flex flex-column align-items-start flex-md-row align-items-md-center justify-content-md-between flex-wrap\"\n  >\n    <p [innerHTML]=\"metaData().printPaginationInfo('Images')\"></p>\n    <pagination-controls\n      class=\"pagination-controls top-pagination-controls\"\n      [maxSize]=\"maxSize\"\n      (pageChange)=\"pageChanged($event)\"\n    ></pagination-controls>\n  </div>\n  <!-- Pagination information End-->\n\n  <!-- Gallery Start -->\n\n  <!-- <div>\n    <gallery [items]=\"items()\" thumbPosition=\"right\" [dots]=\"true\">\n      <ng-container *galleryImageDef=\"let item; let active = active\">\n        <div *ngIf=\"active\" class=\"item-text\">\n          <div *ngIf=\"isAdmin()\" class=\"mask\">\n            <div class=\"d-flex justify-content-center align-items-center h-100\">\n              <button\n                (click)=\"openModal(item.type.toString(), item.src.toString())\"\n                class=\"btn text-light delete-btn\"\n              >\n                <i class=\"fas fa-trash fa-3x\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </ng-container>\n    </gallery>\n  </div> -->\n\n  <div class=\"d-flex justify-content-center flex-wrap\">\n    <div\n      class=\"hover-overlay bg-image\"\n      *ngFor=\"\n        let item of items()\n          | paginate\n            : {\n                itemsPerPage: metaData().pageSize,\n                currentPage: metaData().currentPage,\n                totalItems: metaData().totalItems\n              }\n      \"\n    >\n      <img\n        class=\"img-fluid mx-1 my-1 rounded shadow-2-strong\"\n        [src]=\"item.data.src\"\n      />\n      <!-- Delete Image Overlay Start  -->\n      <div\n        *ngIf=\"isAdmin()\"\n        class=\"mask d-flex justify-content-center align-items-center h-100\"\n      >\n        <button\n          (click)=\"\n            openModal(item.data.type.toString(), item.data.src.toString())\n          \"\n          class=\"btn text-light delete-btn\"\n        >\n          <i class=\"fas fa-trash fa-3x\"></i>\n        </button>\n      </div>\n      <!-- Delete Image Overlay End  -->\n    </div>\n  </div>\n  <!-- Gallery End -->\n\n  <!-- Bottom pagination controls start-->\n  <div class=\"d-flex justify-content-start mt-3\">\n    <pagination-controls\n      class=\"pagination-controls bottom-pagination-controls\"\n      [maxSize]=\"maxSize\"\n      (pageChange)=\"pageChanged($event)\"\n    ></pagination-controls>\n  </div>\n</div>\n<!-- Bottom pagination controls end-->\n\n<!-- Delete Images Tab End  -->\n\n<!-- Placeholder Start -->\n<ng-template #placeholderImages>\n  <app-gallery-loader></app-gallery-loader>\n</ng-template>\n<!-- Placeholder  End -->\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}