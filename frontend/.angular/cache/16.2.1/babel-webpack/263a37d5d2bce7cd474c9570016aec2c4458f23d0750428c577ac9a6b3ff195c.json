{"ast":null,"code":"\"use strict\";\n\nvar _class;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CourseFilterComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst core_1 = require(\"@angular/core\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"../../courses.service\"));\nconst i2 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i3 = tslib_1.__importStar(require(\"mdb-angular-ui-kit/forms\"));\nconst i4 = tslib_1.__importStar(require(\"@angular/forms\"));\nfunction CourseFilterComponent_p_16_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Result\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourseFilterComponent_p_16_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Results\");\n  }\n}\nfunction CourseFilterComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, CourseFilterComponent_p_16_span_2_Template, 2, 0, \"span\", 13);\n    i0.ɵɵtemplate(3, CourseFilterComponent_p_16_ng_template_3_Template, 1, 0, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r2 = i0.ɵɵreference(4);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.courses().length, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.courses().length == 1)(\"ngIfElse\", _r2);\n  }\n}\nclass CourseFilterComponent {\n  constructor(courseService) {\n    this.courseService = courseService;\n    this.sortingField = 'rating';\n    this.courses = (0, core_1.computed)(() => this.courseService.courseListSignal());\n    //display number of filtered results\n    //in case the user searches for courses\n    this.displayNumSearchResults = (0, core_1.computed)(() => this.courseService.displayNumSearchResults());\n  }\n  //Sort the courses by a given field\n  sortBy() {\n    //if there are no courses available\n    if (this.courses().length == 0) {\n      this.courseService.getCourses(this.sortingField);\n    }\n    //else sort the currently available courses\n    else {\n      switch (this.sortingField) {\n        //sort by title\n        case 'title':\n          this.courseService.courseListSignal.set(this.sortByTitle(this.courses()));\n          break;\n        //sort by reviews\n        case 'reviews':\n          this.courseService.courseListSignal.set(this.sortByReviewsCount(this.courses()));\n          break;\n        //else sort by rating\n        default:\n          this.courseService.courseListSignal.set(this.sortByRating(this.courses()));\n          break;\n      }\n    }\n  }\n  onEnter(event) {\n    event.preventDefault();\n    this.courseService.searchCourses(event.target.value.trim());\n    this.sortingField = 'rating';\n  }\n  //sort the courses\n  sortByTitle(courses) {\n    return courses.slice().sort((a, b) => a.title.localeCompare(b.title));\n  }\n  sortByRating(courses) {\n    return courses.slice().sort((a, b) => b.rating - a.rating);\n  }\n  sortByReviewsCount(courses) {\n    return courses.slice().sort((a, b) => b.reviews.length - a.reviews.length);\n  }\n}\n_class = CourseFilterComponent;\n_class.ɵfac = function CourseFilterComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.CoursesService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-course-filter\"]],\n  decls: 17,\n  vars: 2,\n  consts: [[1, \"row\", \"mt-5\"], [1, \"col-md-8\", \"mb-3\", \"mb-md-0\"], [1, \"rounded\"], [\"mdbInput\", \"\", \"id\", \"formControlLg\", \"type\", \"search\", \"aria-label\", \"Search\", \"aria-describedby\", \"search-addon\", 1, \"form-control\", \"rounded\", \"form-control-lg\", 3, \"keyup.enter\"], [\"mdbLabel\", \"\", \"for\", \"formControlLg\", 1, \"form-label\"], [1, \"col-md-4\"], [\"aria-label\", \".form-select-lg example\", 1, \"form-select\", \"form-select-lg\", \"rounded\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [\"selected\", \"\", \"hidden\", \"\"], [\"value\", \"reviews\"], [\"value\", \"rating\"], [\"value\", \"title\"], [\"class\", \"text-start position-absolute fw-bold\", 4, \"ngIf\"], [1, \"text-start\", \"position-absolute\", \"fw-bold\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"]],\n  template: function CourseFilterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"mdb-form-control\", 2)(3, \"input\", 3);\n      i0.ɵɵlistener(\"keyup.enter\", function CourseFilterComponent_Template_input_keyup_enter_3_listener($event) {\n        return ctx.onEnter($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"label\", 4);\n      i0.ɵɵtext(5, \"Search\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"select\", 6);\n      i0.ɵɵlistener(\"change\", function CourseFilterComponent_Template_select_change_7_listener() {\n        return ctx.sortBy();\n      })(\"ngModelChange\", function CourseFilterComponent_Template_select_ngModelChange_7_listener($event) {\n        return ctx.sortingField = $event;\n      });\n      i0.ɵɵelementStart(8, \"option\", 7);\n      i0.ɵɵtext(9, \"Sort By\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"option\", 8);\n      i0.ɵɵtext(11, \"Most Reviewed\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"option\", 9);\n      i0.ɵɵtext(13, \"Highest Rated\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"option\", 10);\n      i0.ɵɵtext(15, \"Name\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(16, CourseFilterComponent_p_16_Template, 5, 3, \"p\", 11);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.sortingField);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayNumSearchResults());\n    }\n  },\n  dependencies: [i2.NgIf, i3.MdbFormControlComponent, i3.MdbInputDirective, i3.MdbLabelDirective, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexports.CourseFilterComponent = CourseFilterComponent;","map":{"version":3,"names":["core_1","require","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","CourseFilterComponent_p_16_span_2_Template","CourseFilterComponent_p_16_ng_template_3_Template","ɵɵtemplateRefExtractor","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","courses","length","ɵɵproperty","_r2","CourseFilterComponent","constructor","courseService","sortingField","computed","courseListSignal","displayNumSearchResults","sortBy","getCourses","set","sortByTitle","sortByReviewsCount","sortByRating","onEnter","event","preventDefault","searchCourses","target","value","trim","slice","sort","a","b","title","localeCompare","rating","reviews","ɵɵdirectiveInject","i1","CoursesService","selectors","decls","vars","consts","template","CourseFilterComponent_Template","rf","ctx","ɵɵlistener","CourseFilterComponent_Template_input_keyup_enter_3_listener","$event","CourseFilterComponent_Template_select_change_7_listener","CourseFilterComponent_Template_select_ngModelChange_7_listener","CourseFilterComponent_p_16_Template","exports"],"sources":["C:\\Users\\Pierce T. Nyamuda\\Documents\\BYUI Courses\\spring2023\\Angular\\final-project\\frontend\\src\\app\\courses\\course-list\\course-filter\\course-filter.component.ts","C:\\Users\\Pierce T. Nyamuda\\Documents\\BYUI Courses\\spring2023\\Angular\\final-project\\frontend\\src\\app\\courses\\course-list\\course-filter\\course-filter.component.html"],"sourcesContent":["import { Component, Signal, computed } from '@angular/core';\nimport { CoursesService } from '../../courses.service';\nimport { Course } from '../../course.model';\n\n@Component({\n  selector: 'app-course-filter',\n  templateUrl: './course-filter.component.html',\n  styleUrls: ['./course-filter.component.scss'],\n})\nexport class CourseFilterComponent {\n  sortingField = 'rating';\n\n  constructor(private courseService: CoursesService) {}\n\n  //Sort the courses by a given field\n  sortBy() {\n    //if there are no courses available\n    if (this.courses().length == 0) {\n      this.courseService.getCourses(this.sortingField);\n    }\n    //else sort the currently available courses\n    else {\n      switch (this.sortingField) {\n        //sort by title\n        case 'title':\n          this.courseService.courseListSignal.set(\n            this.sortByTitle(this.courses())\n          );\n          break;\n        //sort by reviews\n        case 'reviews':\n          this.courseService.courseListSignal.set(\n            this.sortByReviewsCount(this.courses())\n          );\n          break;\n        //else sort by rating\n        default:\n          this.courseService.courseListSignal.set(\n            this.sortByRating(this.courses())\n          );\n          break;\n      }\n    }\n  }\n\n  onEnter(event) {\n    event.preventDefault();\n    this.courseService.searchCourses(event.target.value.trim());\n    this.sortingField = 'rating';\n  }\n\n  courses: Signal<Course[]> = computed(() =>\n    this.courseService.courseListSignal()\n  );\n\n  //display number of filtered results\n  //in case the user searches for courses\n  public displayNumSearchResults: Signal<boolean> = computed(() =>\n    this.courseService.displayNumSearchResults()\n  );\n\n  //sort the courses\n  sortByTitle(courses: Course[]): Course[] {\n    return courses.slice().sort((a, b) => a.title.localeCompare(b.title));\n  }\n\n  sortByRating(courses: Course[]): Course[] {\n    return courses.slice().sort((a, b) => b.rating - a.rating);\n  }\n\n  sortByReviewsCount(courses: Course[]): Course[] {\n    return courses.slice().sort((a, b) => b.reviews.length - a.reviews.length);\n  }\n}\n","<!-- Search for course -->\n<div class=\"row mt-5\">\n  <div class=\"col-md-8 mb-3 mb-md-0\">\n    <mdb-form-control class=\"rounded\">\n      <input\n        mdbInput\n        id=\"formControlLg\"\n        (keyup.enter)=\"onEnter($event)\"\n        type=\"search\"\n        class=\"form-control rounded form-control-lg\"\n        aria-label=\"Search\"\n        aria-describedby=\"search-addon\"\n      />\n      <label mdbLabel class=\"form-label\" for=\"formControlLg\">Search</label>\n      <!-- <span class=\"input-group-text border-0\" id=\"search-addon\">\n          <i class=\"fas fa-search\"></i>\n        </span> -->\n    </mdb-form-control>\n  </div>\n\n  <!-- Sort By -->\n  <div class=\"col-md-4\">\n    <select\n      (change)=\"sortBy()\"\n      [(ngModel)]=\"sortingField\"\n      class=\"form-select form-select-lg rounded\"\n      aria-label=\".form-select-lg example\"\n    >\n      <option selected hidden>Sort By</option>\n      <option value=\"reviews\">Most Reviewed</option>\n      <option value=\"rating\">Highest Rated</option>\n      <option value=\"title\">Name</option>\n    </select>\n  </div>\n</div>\n\n<!-- Number of searched search results -->\n<p\n  class=\"text-start position-absolute fw-bold\"\n  *ngIf=\"displayNumSearchResults()\"\n>\n  {{ courses().length }}\n  <span *ngIf=\"courses().length == 1; else elseBlock\">Result</span>\n  <ng-template #elseBlock>Results</ng-template>\n</p>\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}