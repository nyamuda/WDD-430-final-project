<div class="container mt-5">
  <mdb-tabs [fill]="true">
    <mdb-tab>
      <ng-template mdbTabTitle>
        <span class="fw-bold">LOGIN</span>
      </ng-template>
      <form [formGroup]="loginFormGroup" class="needs-validation" novalidate>
        <!-- Sign in with Google -->
        <app-oauth [runUrlCodeParamFn]="false" action="Sign in"></app-oauth>
        <!-- Email input -->
        <div class="form-floating mb-3">
          <input
            [ngClass]="{
              'is-invalid':
                loginFormGroup.get('email').invalid &&
                loginFormGroup.get('email').touched
            }"
            type="email"
            id="loginEmail"
            class="form-control"
            formControlName="email"
            placeholder="name@example.com"
          />
          <label class="form-label" for="loginEmail">Email</label>
          <div
            *ngIf="
              loginFormGroup.get('email').invalid &&
              loginFormGroup.get('email').touched
            "
            class="invalid-feedback"
          >
            Please enter a valid email address.
          </div>
        </div>

        <!-- Password input -->
        <div class="form-floating mb-3">
          <input
            [ngClass]="{
              'is-invalid':
                loginFormGroup.get('password').invalid &&
                loginFormGroup.get('password').touched
            }"
            type="password"
            id="registerPassword"
            class="form-control"
            formControlName="password"
            placeholder="Password"
          />
          <label class="form-label" for="registerPassword">Password</label>
          <div
            *ngIf="
              loginFormGroup.get('password').invalid &&
              loginFormGroup.get('password').touched
            "
            class="invalid-feedback"
          >
            Your password should have a minimum length of 8 characters and
            include a combination of letters, and numbers.
          </div>
        </div>
        <!-- Remember me checkbox -->
        <div class="form-check form-switch mb-3">
          <input
            [ngClass]="{ disabled: loginFormGroup.invalid }"
            (change)="onCheckboxCheck()"
            class="form-check-input"
            type="checkbox"
            id="flexSwitchCheckDefault"
          />
          <label class="form-check-label" for="flexSwitchCheckDefault"
            >Remember me</label
          >
        </div>

        <!-- Submit button -->
        <button
          [ngClass]="{ disabled: loginFormGroup.invalid }"
          *ngIf="!logging(); else loadingBtn"
          (click)="submitForm()"
          type="submit"
          class="btn custom text-light btn-block mb-3"
        >
          Login
        </button>
        <!-- <button (click)="hello()" class="btn btn-danger">Toast</button> -->

        <!-- Loading button -->
        <ng-template #loadingBtn>
          <button
            class="btn custom text-light btn-block"
            type="button"
            disabled
          >
            <span
              class="spinner-border spinner-border-sm"
              role="status"
              aria-hidden="true"
            ></span>
            <span class="ms-1">Please wait...</span>
          </button>
        </ng-template>

        <!-- Register buttons -->
        <div class="text-center">
          <p>Not a member? <a routerLink="/register">Register</a></p>
        </div>
      </form>
    </mdb-tab>
    <mdb-tab>
      <ng-template mdbTabTitle>
        <span class="fw-bold">REGISTER</span>
      </ng-template>
      <app-register topMargin="0"></app-register>
    </mdb-tab>
  </mdb-tabs>
</div>
